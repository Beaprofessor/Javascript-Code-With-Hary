<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetch API</title>
    <style>
        body {
            color: white;
            background: #232322;
        }
    </style>
</head>

<body>
    <script>
        // let p = fetch("https://goweather.herokuapp.com/weather/Ny")
        // p.then((response) => {
        //     console.log(response.status)
        //     console.log(response.ok)
        //     console.log(response.headers)         // ye hai response headers.and isme aapko koi response milta hai wo hota hai response headers
        //     // console.log(response.)      // request headers wo headers jo ham kehte hai ki tum ye headers lelo ki auth token lelo , like info lelo wo..
        //     return response.json()
        // }).then((value) => {
        //     console.log(value)
        // })

       

        // Fetch API fir se padh rhe hai aaj 
        let a = fetch("https://goweather.herokuapp.com/weather/Canada")   // JS can be used to send and retrieve information from the network when needed.
        // Mera page bina kisi loading ke kisi bhi data ko fetch karleta hai toh aap log bologe ki AJAX use kara hai
        // bina options ke aap jo request bhej rhe ho toh wo get request hoti hai 
        // get request -> aap url mei se data ko laarhe ho.
        a.then((response)=>{
            console.log(response.status)
            console.log(response.ok)
            console.log(response.headers) // they are available in resopnse headers.... and request headers mei ham khud information dete hai
            // console.log(response.text())  Kya to aap .text() run kar sakte ho ya fir .json() dono ek saath kabhi run ni kar sakte ho aap.
            return response.json()
        }).then((value2)=>{
            console.log(value2)
        })

        // Getting a respone is a two stage process
        
        // 1. An Object of response class containing "status" and "ok" properties.
        //  status - the http status code
        // ok - boolean , true if the http code is 200-299

        // 2. After that we need to call another method to access the body in different formats.
        // response.text() -> read and return the text
        // response.json() -> parse the response as JSON

        // Other methods include response.formData() , response.blob() , response.arrayByte() etc...

        
       

    </script>
</body>

</html>